{% extends 'base.html' %}
{% block content %}
<div class="card">
<div class="card-body">
<h1 class="card-title mb-4">My Gougon Forms</h1>
<ul class="list-group mb-3">
{% for form in forms %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <div>
      <div>
        {{ form.title }}
        <!-- Visibility Badge -->
        {% if form.is_public %}
          <span class="badge bg-success ms-2">
            <i class="fas fa-globe"></i> Public
          </span>
        {% else %}
          <span class="badge bg-secondary ms-2">
            <i class="fas fa-lock"></i> Private
          </span>
        {% endif %}
      </div>
      <small class="text-muted">Responses: {{ counts[form.id] or 0 }}</small>
    </div>
    <span>
      <a class="btn btn-sm btn-primary" href="{{ url_for('fill_form', form_id=form.id) }}">Fill</a>
      <a class="btn btn-sm btn-secondary" href="{{ url_for('add_question', form_id=form.id) }}">Edit</a>
      <a class="btn btn-sm btn-info" href="{{ url_for('form_results', form_id=form.id) }}">Results</a>
      <form method="post" action="{{ url_for('delete_form', form_id=form.id) }}" class="d-inline">
        <button class="btn btn-sm btn-danger" onclick="return confirm('Delete form?');">Delete</button>
      </form>
    </span>
  </li>
{% endfor %}
</ul>
<a class="btn btn-success" href="{{ url_for('create_form') }}">Create New Form</a>
</div>
</div>
{% endblock %}
